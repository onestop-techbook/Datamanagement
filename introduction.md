# 人はなぜデータを失うのか？

データを紛失して困ったことはありませんか？

本章では、まずデータをなくす理由についていくつか考えてみましょう。

* HDDなどのデバイスが故障する
* USBドライブなどを落とす(紛失する)
* 間違って消してしまう
* 間違えて上書きしてしまう・保存を忘れる
* ウイルスによりデータが消える・ロックされる
* (ドライブのどこかにあるはずだが)見つからない
* Web上のデータがなくなる(参照できなくなる)
* サーバー・クラウドのトラブル、サービス終了
* その他

いずれも、対応策は異なります。またそれぞれ発生確率は異なります。本書では、データ紛失の原因やその対処法を述べたうえで、データをなくして困る人を減らしたい、あるいは低コスト、確実な対応の一案を提示することを目的とします。

Twitterなどで例年卒論時期になると、卒論データ飛んだorzなどという悲鳴が聞こえてきます。また漫画家さんをはじめ、作成中の原稿が消えた！という嘆きの声もよく聞こえます。

デバイスの故障確率をゼロにすることはできません。しかし、万一デバイス(PCまたはHDD)が故障したとしても、バックアップを取っておくなどすることで影響を最小化(理想的にはゼロにする)ことはできます。

ここで簡単な計算をしてみましょう。1日ごとに1%の確率で壊れるデバイスがあったとします。初日にデータを失う確率は1%です。データを保持できる可能性は、100%-1%=99%です。

二日目までにデータを失う確率は、1日目に失わなかった確率×二日目に失わなかった確率で計算でき、1.99%（およそ2%)です。10日で約10%、100日では63%の確率でデータを失うことになります。

![データを失う確率](introducion/datalost1.png?scale=0.5)

では、同じ故障確率のデバイスを二つ持っていたとして、ここに同じデータを保存する癖をつけたとしましょう。片方が壊れても、もう片方に生き残っているデータがあるのでデータは大丈夫！という期待がありますね。

同じように計算してみましょう。ただし、二つの故障確率は独立であるとします。たとえば特定ロットのHDDのようにほぼ同時に寿命が来るなどの関係はないものとします。

1日あたりでデータを失う確率は、2台のデバイスが同時に故障したときに限られます。1台だけが1%の確率で故障しても、もう1台のデバイスがあるのでデータは保持されます。同時に故障する確率は、1台の故障確率×1台の故障確率で計算でき、1台のときの故障率が1%なので、同時(同じ日)に故障する確率は0.01%になります。ある一日にデータが保持される確率は99.99%となります。同じ信頼性のデバイスですが、2台使うだけで故障率は2桁小さくなります。

![2台使用時の確率](introducion/datalost2.png?scale=0.5)

1台のときと2台のときで比較すると、10日で10%程度だったデータを失う確率は、およそ0.1%に下がります。100日でおよそ1%、1000日(約3年)で10%になります。かなり現実的な値になったといえるでしょう。

![2台使用時の確率(両対数)](introducion/datalost2.png?scale=0.5)
同じグラフを両対数で表示してみると、故障率が2桁落ちたことがよくわかります。

さて、故障率1%というデバイスはかなり故障率の高いデバイスと言えるでしょう。そういったものでも、2台使って相互にバックアップを取るだけでデータを失う可能性を2桁下げることができるということがわかりました。

この数字をみるだけで、もう一つバックアップを取ろうかな、と考えてもらえるでしょうか。2つのデバイスでデータを保管するといったちょっとしたことで悲劇を大幅に減らすことができるのです。これが本書全体のテーマでもあり、結論です。